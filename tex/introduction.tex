\section{Introduction}
The automotive electrical/electronic system executes several safety-critical software functions (or software applications), e.g.,throttle control, brake-by-wire control, traction control, etc. Moreover, it is a distributed architecture, thus executes some applications on multiple electronic control units (ECU). The automotive functionality is getting complex, e.g., modern cars support hundreds of software applications and executes millions of lines of codes, therefore, efficient partitioning of the distributed software functionality is crucial to ensure software extensibility, that is to support current and future software growth. In this regard, the main concern in embedded system design includes the optimization of power and energy, which has been researched at different levels, such as electronic circuit design~\cite{Devadas1995ACircuits,Moyer2001Low-powerProcessors}, dynamic power and energy management~\cite{wang2015dynamic}, software/hardware partitioning~\cite{Dave1997COSYN,Goraczko2008Energy-optimalSystems,Wu2008AlgorithmicPartitioning}. In this paper, we propose power-efficient allocation of distributed software applications on heterogeneous computing units, which are ECUs with different power-consumption specifications, processor speed and failure rates.

In distributed computing, the risk of software functionality failure is greater due to higher transient and permanent faults, thus maximizing reliability of the distributed system is desirable. In the safety-critical design, the software applications are required to meet reliability goals in order to assure correct operation of the software over some period of time. The most common way to maximize reliability is by applying \textit{fault tolerance}, that is via redundant software and hardware components. However, fault tolerance requires additional computation resources, and consumes more power and energy. Therefore, the software allocation should consider meeting the reliability goals besides optimizing the power consumption of distributed software applications, since different software allocation satisfying the reliability goals could deliver different power consumption.

Software allocation is a well-researched area in the domain of embedded systems, including in hardware/software co-design \cite{Wolf2003ACodesign}, platform-based system design \cite{Sangiovanni-Vincentelli2004BenefitsDesign} and the Y-chart design \cite{ychart_Kienhuis2002} approaches. It is a type of job-shop problem with constraints, and therefore finding an optimal solution, in the general case, is  NP-hard \cite{Fernandez-Baca1989AllocatingSystem}. The methods to solve such problems can be \textit{exact} or \textit{heuristic}. The exact methods, e.g., branch and bound, dynamic programming, etc., guarantee optimal solutions, nevertheless, they do not scale to large-scale problems \cite{Saidi2015AnArchitectures}. Moreover, applying exact methods on non linear problems, which are prevalent in practice, is prohibitively expensive. Our previous work on solving the software allocation problem \cite{Mahmud5222}, we demonstrate the limitation of integer-linear programming (ILP) \cite{Bradley1977AppliedProgramming} using exact method by the \cplex{} solver. Similarly, the scalability issues of exact methods on software allocation is indicated in several works~\cite{Saidi2015AnArchitectures}. In contrast, heuristic methods device a working technique to solve practical problems, which are usually large-scale, non-linear, without guarantee of optimality \cite{faragardi2018AECUs,Bucaioni2018MoVES:Systems}.  A particular type of heuristic is \textit{metaheuristics} which can be defined as ``an iterative generation process which guides a subordinate heuristic by combining intelligently different concepts for exploring and exploiting the search space, learning strategies are used to structure information in order to
find efficiently near-optimal solutions" \cite{Osman2005Metaheuristics:Bibliography}.

Metaheuristics has found wide applications in many domains, e.g.,  cellular networks, cloud computing, software design, etc \cite{2006HandbookMetaheuristics}. Many of the existing meta-heuristic algorithms are nature inspired, e.g., genetic algorithm, evolutionary algorithms, simulated annehealing, ant colony, particle-swarm optimization, etc. Applications of metaheuristics on the software allocation of real-time systems are in the early stages, nevertheless, there exist some works, such as by Qin-Ma et al. \cite{kartik1997task} on maximizing reliability of distributed computing systems using honybee algorithm, and maximizing reliability of distributed systems using hill-climbing particle-swarm optimization by Yin et al. \cite{yin2007task}. In this work, we apply differential evolution and hybrid particle-swarm optimization algorithms on fault-tolerant distributed software applications to optimize the total power consumption of a distributed system. The software applications are developed using the AUTOSAR software components that are implemented by periodically activated runnables. Sequences of runnables deployed on the same unit or network of units realize end-to-end functionality, also known as \textit{cause-effect} chains. The chains are triggered by different sampling rates, also known as  \textit{multirate}~\cite{Vinet2010APolynomials}. The propagation of signals over multirate chains result in undersampling/oversampling effects, which makes end-to-end timing analysis difficult \cite{mubeen2013support}. In order to maximize software applications reliability and meet their reliability goals, we implement fault tolerance. 
The contributions of our work are: 
\begin{enumerate*}[label=(\roman*)]
	\item an allocation mechanism to maximize reliability of a distributed safety-critical software via replication of software components, which are mapped to different computing units,
	\item a hybrid particle optimization to efficiently map a fault-tolerant safety-critical software on a network of heterogeneous computing units, considering exact timing and reliability models, with respect minimization of power consumption,
	\item an approximation algorithm to minimize the overhead of replication on the calculation of end-to-end age delay,
	\item performance analysis of various meta-heuristic algorithms such as differential evolution, particle-swarm optimization and the latter's hybrids with differential-evolution, hill-climbing and stochastic hill-climbing algorithms, and an exact method based on integer-linear programming
\end{enumerate*}. 

Our approach is evaluated on synthetic automotive applications that are generated according to the real-world automotive benchmark proposed by Kramer et al. \cite{Kramer2015RealFree}. In the evaluation, we show comparative performance of the various optimization algorithms in terms of quality of solutions (or optimality), computation time,  and stability of the algorithms, for small and large software allocation problems. The tool applied in the evaluation is publicly accessible from BitBucket\footnote{\url{https://bitbucket.org/nasmdh/archsynapp/src/master/}}. 

The rest of the paper is organized as follows:
Section~\ref{sec_autosar} provides a brief overview of AUTOSAR, emphasizing on end-to-end timing and reliability modeling, and software allocation,
Section~\ref{sec_system} describes the AUTOSAR system model, including timing analysis, reliability and power-consumption assumptions.
Formulation of the software allocation problems is presented in Section~\ref{sec_problem}, which consist of the timing and reliability constraints and minimization of the total power consumption, followed by formulation of the optimization problem. 
We show how to solve the optimization problem using metaheuristics in Section~\ref{sec_solution}. The evaluation of our proposed methods are demonstrated in Section~\ref{sec_evaluation} using the automotive benchmark. Our work is compared to related works in Section~\ref{sec_RW}. Finally, we conclude the paper in Section~\ref{sec_conclusion}, and outline the possible future work.


